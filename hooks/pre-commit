#!/bin/bash

# Pre-commit hook to check Scala code formatting with scalafmt

echo "Checking Scala formatting..."

# Run scalafmt check
sbt --error scalafmtCheckAll

if [ $? -ne 0 ]; then
    echo ""
    echo "ERROR: Code is not properly formatted."
    echo "Run 'sbt scalafmtAll' to fix formatting, then try again."
    exit 1
fi

echo "Formatting check passed."
exit 0
